<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CosmicLink - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-cheatsheet.html">CosmicLink cheatsheet</a></li><li class="nav-item"><a href="tutorial-cheatsheet2.html">Queries cheatsheet</a></li><li class="nav-item"><a href="tutorial-specifications.html">Queries specifications</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CosmicLink.html">CosmicLink</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#addAliases">addAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#addFormatHandler">addFormatHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#clearClickHandler">clearClickHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#getSigners">getSigners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#getSource">getSource</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#getSourceAccount">getSourceAccount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#hasSigned">hasSigned</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#hasSigner">hasSigner</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#parse">parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#removeAliases">removeAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#removeFormatHandler">removeFormatHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#selectNetwork">selectNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#send">send</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#setClickHandler">setClickHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#sign">sign</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-defaults.html">defaults</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.addAliases">addAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.addFormatHandler">addFormatHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.clearClickHandler">clearClickHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.removeAliases">removeAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.removeFormatHandler">removeFormatHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-defaults.html#.setClickHandler">setClickHandler</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-specs.html">specs</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">CosmicLink</h1>
    

    




<section>

<header>
    
        <h2>
        CosmicLink
        </h2>
        
            <div class="class-description"><p>CosmicLink</p>
<p>A <code>CosmicLink</code> object represents a Stellar transaction. It can be created
from an actual cosmic link or any link build with a cosmic query, and
also from a Stellar Transaction object or its XDR representation.</p>
<p>Additionally, it can be parsed from a <strong>transaction descriptor</strong>, which the
simplified format used is <code>js-cosmic-lib</code> to represent Stellar transaction.
This transaction descriptor can be written in its objectified form
(referred as <strong>tdesc</strong>) or stringified form (referred as <strong>json</strong>).</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
<div class="section-method">

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="CosmicLink"><span class="type-signature"></span>new CosmicLink<span class="signature">(transaction, options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Create a new CosmicLink object. <code>transaction</code> can be one of the accepted
format: uri, query, json, tdesc, transaction or xdr.</p>
<p>Uri &amp; query are link formats and are written according to the Cosmic Link
protocol itself.</p>
<p>Json &amp; tdesc is the format this library is using internally to store
transaction data. json is the stringified form, while tdesc is the
objectified form. This format is made to be simple and convertible between
string and object without information loss.</p>
<p>Transaction and xdr are refering to the standard format implemented in
official Stellar libraries, like
<a href="https://github.com/stellar/js-stellar-sdk">js-stellar-sdk</a>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transaction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>A transaction in one of thoses formats: <code>uri</code>, <code>query</code>,
    <code>json</code>, <code>tdesc</code>, <code>transaction</code>, <code>xdr</code></p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Additional options</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>page</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The base URI to use when converting transaction
    to URI format</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>network</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The fallback network: either <code>public</code> or
    <code>test</code>. Please note that the query may enforce a different network.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The fallback transaction source account. Will
    take effect if the cosmic link doesn't include one. Note that XDR and
    Transaction format always include a source account.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSignatures</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip
    out signatures for XDR/Transaction formats.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSequence</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip
    out signatures and sequence number for XDR/Transaction formats.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSource</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip out
    signatures, sequence number and transaction source account for
    XDR/Transaction formats.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<div class="section-members">
<h4 class="name" id=".htmlNode"><span class="type-signature">(static) </span>htmlNode<span class="type-signature"></span></h4>




<div class="description">
    <p>The HTML DOM node that displays a description of the current transaction.
Contains CosmicLink#transactionNode, CosmicLink#statusNode
and CosmicLink#signersNode. Please note that thoses nodes are only
available in browser environment (i.e: not in node.js).</p>
<p>If HTML your page contains an element with <code>id=&quot;CL_htmlNode&quot;</code>, this node
will automatically be used as the htmlNode of any CosmicLink you create.
This implies you should have onle one living at a time.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".network"><span class="type-signature">(static) </span>network<span class="type-signature"></span></h4>




<div class="description">
    <p>The network in use for this cosmic link.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".page"><span class="type-signature">(static) </span>page<span class="type-signature"></span></h4>




<div class="description">
    <p>The base URI to use when converting to URI format.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line183">line 183</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".signersNode"><span class="type-signature">(static) </span>signersNode<span class="type-signature"></span></h4>




<div class="description">
    <p>The HTML node that contains a list of missing/available signatures. Please
note that it doesn't shows when there's only one signer.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line252">line 252</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".statusNode"><span class="type-signature">(static) </span>statusNode<span class="type-signature"></span></h4>




<div class="description">
    <p>The HTML node that contains a description of any error that may have
happened with this cosmic link.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line240">line 240</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".transactionNode"><span class="type-signature">(static) </span>transactionNode<span class="type-signature"></span></h4>




<div class="description">
    <p>The HTML element that contains a description of the current transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id=".user"><span class="type-signature">(static) </span>user<span class="type-signature"></span></h4>




<div class="description">
    <p>The fallback user configured for this cosmic link. It doesn't always match
the transaction source, as the query may enforce another source. See
<a href="CosmicLink.html#getSource">CosmicLink#getSource</a> for a method that reliably returns the source
address.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id="aliases"><span class="type-signature"></span>aliases<span class="type-signature"></span></h4>




<div class="description">
    <p>Aliases for most known Stellar addresses. Aliases are used instead of
public keys when displaying addresses. This is purely for conveniency: they
are not a way of tying an account to an address as federated addresses are.
The aliases object is formed as follow:</p>
<pre class="prettyprint source"><code>{
  'publicKey1': 'name1',
  'publicKey2': 'name2',
   ...
  'publicKeyN': 'nameN'
}</code></pre>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id="clickHandlers"><span class="type-signature"></span>clickHandlers<span class="type-signature"></span></h4>




<div class="description">
    <p>The active click handlers. Can be defined globally (<code>cosmicLib.defaults.clickhandlers</code>)
or for a particular CosmicLink object (<code>cosmicLink.clickHandlers</code>). Takes the
form:</p>
<pre class="prettyprint source"><code>cosmicLib.defaults.clickHandlers = {
  fieldType1: callback1,
  ...
  fieldTypeN: callbackN
}</code></pre><p>Thoses click handlers are set by default:</p>
<pre class="prettyprint source"><code> address: 'A prompt that show the address',
 asset: 'A function that show the asset issuer',
 hash: 'A function that copy the hash into the clipboard or show a prompt
    box to enter preimage signature when relevant'</code></pre>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
            
<div class="section-members">
<h4 class="name" id="formatHandlers"><span class="type-signature"></span>formatHandlers<span class="type-signature"></span></h4>




<div class="description">
    <p>The active format handlers. Can be defined globally (<code>cosmicLib.defaults.formathandlers</code>)
or for a particular CosmicLink object (<code>cosmicLink.formatHandlers</code>). Takes the
form:</p>
<pre class="prettyprint source"><code>cosmicLib.defaults.formatHandlers = {
 format1: [ callback1, ..., callbackN ],
 ...
 formatN: [ callback1, ..., callbackN ]
}</code></pre>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>{}</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>







</div>

        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="addAliases"><span class="type-signature"></span>addAliases<span class="signature">(aliases)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Add new aliases or replace existing ones.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>aliases</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>An object such as <code>{ publicKey1: name1, ..., publicKeyN: nameN }</code></p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addFormatHandler"><span class="type-signature"></span>addFormatHandler<span class="signature">(format, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Add the format handler <code>callback</code> for <code>format</code>. <code>callback</code> will be called
each time a cosmicLink object sets a value for <code>format</code>, including at creation
time. <code>callback</code> will receive an event such as:</p>
<blockquote>
<p>event = { cosmicLink: ..., value: ..., error: ... }</p>
</blockquote>
<p>Where <code>value</code> is set only when the format conversion resolves, and where
<code>error</code> is set only when format conversion fails.</p>
<p>Format handlers can be added either globally (<code>cosmicLib.defaults.addFormatHandler</code>)
or to a specific cosmicLink object (<code>cosmicLink.addFormatHandler</code>). When
added to a specific cosmicLink object, <code>callback</code> is immediately called with
the current return value of <code>format</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line136">line 136</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Either <code>uri</code>, <code>query</code>, <code>tdesc</code>, <code>json</code>, <code>transaction</code> or <code>xdr</code></p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>A function that accept one <code>event</code> argument</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// This will update the current page URL each time a CosmicLink is parsed

cosmicLib.defaults.addFormatHandler('query', updateDocumentUrl)

function updateDocumentUrl (event) {
  if (event.value) history.replaceState({}, '', event.value)
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="clearClickHandler"><span class="type-signature"></span>clearClickHandler<span class="signature">(fieldType)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove the current click handler for <code>fieldType</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line88">line 88</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fieldType</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Type of a transaction/operation field such as
    <code>address</code>, <code>asset</code>, <code>hash</code>, ...</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Examples</h5>

    <pre class="prettyprint"><code>cosmicLib.defaults.clearClickHandler('address')</code></pre>

    <pre class="prettyprint"><code>cosmicLink.clearClickHandler('asset')</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getSigners"><span class="type-signature">(async) </span>getSigners<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Returns the legit signers for this transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line288">line 288</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getSource"><span class="type-signature">(async) </span>getSource<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    <p>Return the source address of the current transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>string</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>Federated address or account ID</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getSourceAccount"><span class="type-signature">(async) </span>getSourceAccount<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Returns a promise of the transaction source
<a href="https://%3Ca">Account</a>">www.stellar.org/developers/guides/concepts/accounts.html}</a>
object from the current ledger.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line286">line 286</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="hasSigned"><span class="type-signature">(async) </span>hasSigned<span class="signature">(value, type<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Check if <code>value</code> has already signed the transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line143">line 143</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>An account ID, a txhash or a preimage</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'key'
                
                </td>
            

            <td class="description last">
                <p>The signer type. Could be either <code>key</code>, <code>tx</code>
    or <code>hash</code>.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A promise of a boolean telling if yes or no the <code>value</code>
    has already signed</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="hasSigner"><span class="type-signature">(async) </span>hasSigner<span class="signature">(value, type<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Check if <code>value</code> is a legit signer for this transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                <p>An account ID, a txhash or a preimage</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'key'
                
                </td>
            

            <td class="description last">
                <p>The signer type. Could be either <code>key</code>, <code>tx</code>
    or <code>hash</code>.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A promise of a boolean telling if yes or no the signer is
    legit.</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="parse"><span class="type-signature"></span>parse<span class="signature">(transaction, options)</span><span class="type-signature"> &rarr; {<a href="CosmicLink.html">CosmicLink</a>}</span></h4>

    



<div class="description">
    <p>Re-parse this cosmic link. Usefull for implementing link editors.
The parameters are the same than Constructor.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line104">line 104</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transaction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>A transaction in one of thoses formats: <code>uri</code>, <code>query</code>,
    <code>json</code>, <code>tdesc</code>, <code>transaction</code>, <code>xdr</code></p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Additional options</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>page</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The base URI to use when converting transaction
    to URI format</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>network</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The fallback network: either <code>public</code> or
    <code>test</code>. Please note that the query may enforce a different network.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>The fallback transaction source account. Will
    take effect if the cosmic link doesn't include one. Note that XDR and
    Transaction format always include a source account.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSignatures</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip
    out signatures for XDR/Transaction formats.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSequence</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip
    out signatures and sequence number for XDR/Transaction formats.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stripSource</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>If set to a true value, will strip out
    signatures, sequence number and transaction source account for
    XDR/Transaction formats.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="CosmicLink.html">CosmicLink</a></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A CosmicLink object</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="removeAliases"><span class="type-signature"></span>removeAliases<span class="signature">(array)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove aliases.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>An array such as <code>[ publicKey1, ..., publicKeyN ]</code></p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="removeFormatHandler"><span class="type-signature"></span>removeFormatHandler<span class="signature">(format, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove format handler <code>callback</code> for <code>format</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line150">line 150</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Either <code>uri</code>, <code>query</code>, <code>tdesc</code>, <code>json</code>, <code>transaction</code> or <code>xdr</code></p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>A function that accept one <code>event</code> argument</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>cosmicLib.defaults.removeFormatHandler('query', updateDocumentUrl)</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="selectNetwork"><span class="type-signature"></span>selectNetwork<span class="signature">()</span><span class="type-signature"> &rarr; {Server}</span></h4>

    



<div class="description">
    <p>Select the network in use in this cosmic link. Returns the corresponding
Server object.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cosmiclink.js.html">cosmiclink.js</a>, <a href="cosmiclink.js.html#line154">line 154</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Server</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A Stellar SDK Server object</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="send"><span class="type-signature"></span>send<span class="signature">(server<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Send CosmicLink transaction to <code>server</code>, or to <code>cosmicLink.server</code>. It should
have been signed beforehand to be validated.</p>
<p>Returns a promise that resolve with horizon server response when transaction
is accepted, or that reject to horizon server response if transaction is
rejected.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="action.js.html">action.js</a>, <a href="action.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>server</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Server</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    cosmicLink.server
                
                </td>
            

            <td class="description last">
                <p>A Stellar SDK <a href="https://stellar.github.io/js-stellar-sdk/Server.html">Server</a> object</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>The server response</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>cosmicLink.send()
  .then(console.log)
  .catch(console.error)</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="setClickHandler"><span class="type-signature"></span>setClickHandler<span class="signature">(fieldType, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set the click handler for <code>fieldType</code> HTML elements as <code>callback</code>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="defaults.js.html">defaults.js</a>, <a href="defaults.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fieldType</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>Type of a transaction/operation field such as
    <code>address</code>, <code>asset</code>, <code>hash</code>, ...</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>A function that accept one <code>event</code> argument</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Examples</h5>

    <pre class="prettyprint"><code>cosmicLib.defaults.setClickHandler('address', showAddressPopup)</code></pre>

    <pre class="prettyprint"><code>cosmicLink.setClickHandler('asset', showAssetBox)</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="sign"><span class="type-signature"></span>sign<span class="signature">(keypairs_or_preimage)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Sign a CosmicLink object using <code>...keypairs_or_preimage</code>.
Returns a promise that resolve to the signed transaction. The CosmicLink
data are refreshed at promise resolution.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="action.js.html">action.js</a>, <a href="action.js.html#line34">line 34</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>keypairs_or_preimage</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Keypair</code></span>
|

<span class="param-type"><code>preimage</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>One or more keypair, or a
    preimage</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Promise</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>Signed Transaction object</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>cosmicLink.sign(keypair1, keypair2)
 .then(function () { return cosmicLink.send() }
 .then(console.log)
 .catch(console.error)</code></pre>

</div>

</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>